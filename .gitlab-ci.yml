# ---------------------------------------------------------------------------
# GitLab CI/CD – Deploy pre-built Vue app to GitLab Pages
# ---------------------------------------------------------------------------
# The app is built LOCALLY and the dist/ folder is committed to the repo.
# This pipeline simply publishes it — no Node.js / npm needed on the runner.
# ---------------------------------------------------------------------------

image: alpine:latest

stages:
  - deploy

# ---- Deploy to GitLab Pages ----------------------------------------------
# The job MUST be named exactly "pages" for GitLab Pages to pick it up.
# GitLab Pages expects the site to be in a folder called "public".
pages:
  stage: deploy
  script:
    - cp -r dist public
  artifacts:
    paths:
      - public
  only:
    - main
    - master
  tags:
    - deskea_global_runner
